!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("WfPinnedComment",[],t):"object"==typeof exports?exports.WfPinnedComment=t():n.WfPinnedComment=t()}("undefined"!=typeof self?self:this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s="lVK7")}({"+E39":function(n,t,e){n.exports=!e("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+WN3":function(n,t,e){var r=e("2EGR");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);e("rjj0")("180b7652",r,!1)},"+ZMJ":function(n,t,e){var r=e("lOnJ");n.exports=function(n,t,e){if(r(n),void 0===t)return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,o){return n.call(t,e,r,o)}}return function(){return n.apply(t,arguments)}}},"1kS7":function(n,t){t.f=Object.getOwnPropertySymbols},"2EGR":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.pinned-comment-header[data-v-69488c6b] { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-pack: end; -ms-flex-pack: end; justify-content: flex-end; padding: 4px 0 0 0; height: 22px; width: 100%; color: #9ea7b4; font-size: 14px; font-weight: 500;\n}\n.pinned-comment-header span[data-v-69488c6b] { margin-right: 8px;\n}\n.pinned-comment-header img[data-v-69488c6b] { width: 18px; height: 18px;\n}\n.fade-enter-active[data-v-69488c6b], .fade-leave-active[data-v-69488c6b] { -webkit-transition: opacity .5s; transition: opacity .5s\n}\n.fade-enter[data-v-69488c6b] { opacity: 0\n}\n.fade-enter-to[data-v-69488c6b] { opacity: 1\n}\n",""])},"3Eo+":function(n,t){var e=0,r=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++e+r).toString(36))}},"52gC":function(n,t){n.exports=function(n){if(void 0==n)throw TypeError("Can't call method on  "+n);return n}},"5dnX":function(n,t,e){"use strict";var r=function(){var n=this.$createElement,t=this._self._c||n;return this.shouldRender?t("i-dropdown-item",{on:{"on-click":this.handleClick}},[this._v("\n  "+this._s(this.itemTitle)+"\n")]):this._e()};r._withStripped=!0;var o={render:r,staticRenderFns:[]};t.a=o},"77Pl":function(n,t,e){var r=e("EqjI");n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},"7KvD":function(n,t){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},"8+CR":function(n,t,e){"use strict";var r=e("90CO"),o=e("bEVr"),i=!1,s=function(n){i||e("+WN3")},u=e("VU/8")(r.a,o.a,!1,s,"data-v-69488c6b",null);u.options.__file="src/PinnedCommentHeader.vue",t.a=u.exports},"90CO":function(n,t,e){"use strict";t.a={name:"pinned-comment-header",props:["bus"],data:function(){return{pinnedCommentId:null}},computed:{i18next:function(){return this.bus.i18next},backgroundColor:function(){return this.bus.pluginOptions.WfPinnedComment.backgroundColor||"rgba(0, 0, 0, 0.03)"}},created:function(){var n=this;this.bus.listenTo("WfPinnedComment.pinnedCommentId",function(t){n.pinnedCommentId=t},this._uid)},beforeDestroy:function(){this.bus.enough("WfPinnedComment.pinnedCommentId",null,this._uid)}}},AmZr:function(n,t,e){"use strict";var r=function(){var n=this.$createElement,t=this._self._c||n;return t("transition",{attrs:{name:"fade"}},[this.comment?t("wf-comment-card",{key:this.comment.commentId,staticClass:"pinned-comment",style:{backgroundColor:this.backgroundColor},attrs:{comment:this.comment}}):this._e()],1)};r._withStripped=!0;var o={render:r,staticRenderFns:[]};t.a=o},D2L2:function(n,t){var e={}.hasOwnProperty;n.exports=function(n,t){return e.call(n,t)}},EqjI:function(n,t){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},"FZ+f":function(n,t){function e(n,t){var e=n[1]||"",r=n[3];if(!r)return e;if(t&&"function"==typeof btoa){var o=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(r),i=r.sources.map(function(n){return"/*# sourceURL="+r.sourceRoot+n+" */"});return[e].concat(i).concat([o]).join("\n")}return[e].join("\n")}n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var r=e(t,n);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<n.length;o++){var s=n[o];"number"==typeof s[0]&&r[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),t.push(s))}},t}},FeBl:function(n,t){var e=n.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)},GiA7:function(n,t,e){"use strict";t.a={name:"pin-this-comment",props:["bus","comment"],data:function(){return{pinnedCommentId:void 0}},computed:{i18next:function(){return this.bus.i18next},shouldRender:function(){var n=this.bus.user;return this.isPinnedCommentIdLoaded&&n&&n.isAdmin},itemTitle:function(){return this.i18next.t(this.isPinned?"WfPinnedComment.unpin":"WfPinnedComment.pin")},isPinned:function(){return this.comment.commentId===(this.pinnedCommentId||this.bus.plugins.WfPinnedComment)},isPinnedCommentIdLoaded:function(){return!(void 0===this.pinnedCommentId&&void 0===this.bus.plugins.WfPinnedComment)}},methods:{handleClick:function(){var n=this;if(this.isPinnedCommentIdLoaded){var t=this.bus.config.pageURL,e=this.i18next.t("WfPinnedComment."+(this.isPinned?"unpin_success":"pin_success"));this.bus.db.ref("plugins/WfPinnedComment/a/x/x/x/u/"+t).set(this.isPinned?null:this.comment.commentId).then(function(){n.$Message.success(e)}).catch(function(){n.$Message.error(n.i18next.t("WfPinnedComment.error"))})}}},created:function(){var n=this;this.bus.listenTo("WfPinnedComment.pinnedCommentId",function(t){n.pinnedCommentId=t},this._uid)},beforeDestroy:function(){this.bus.enough("WfPinnedComment.pinnedCommentId",null,this._uid)}}},H2sZ:function(n,t,e){"use strict";var r=e("GiA7"),o=e("5dnX"),i=e("VU/8")(r.a,o.a,!1,null,null,null);i.options.__file="src/PinThisComment.vue",t.a=i.exports},Ibhu:function(n,t,e){var r=e("D2L2"),o=e("TcQ7"),i=e("vFc/")(!1),s=e("ax3d")("IE_PROTO");n.exports=function(n,t){var e,u=o(n),a=0,c=[];for(e in u)e!=s&&r(u,e)&&c.push(e);for(;t.length>a;)r(u,e=t[a++])&&(~i(c,e)||c.push(e));return c}},JYTA:function(n,t,e){"use strict";var r=e("woOf"),o=e.n(r);t.a={name:"pinned-comment",props:["bus"],data:function(){return{comment:void 0}},computed:{backgroundColor:function(){return this.bus.pluginOptions.WfPinnedComment.backgroundColor||"rgba(0, 0, 0, 0.03)"}},watch:{comment:function(n){var t=n?n.commentId:null;this.$set(this.bus.$data.plugins,"WfPinnedComment",t),this.bus.$emit("WfPinnedComment.pinnedCommentId",t)}},created:function(){var n=this,t=this.bus.config.pageURL;this.bus.db.ref("plugins/WfPinnedComment/a/x/x/x/u/"+t).on("value",function(t){var e=t.val();e?n.bus.db.ref("comments/"+e).once("value").then(function(t){var r=t.val();n.comment=r?o()({},r,{commentId:e,parentCommentId:null}):null}):n.comment=null})}}},JpbG:function(n,t,e){"use strict";var r=e("JYTA"),o=e("AmZr"),i=!1,s=function(n){i||e("WjVl")},u=e("VU/8")(r.a,o.a,!1,s,"data-v-529cde84",null);u.options.__file="src/PinnedComment.vue",t.a=u.exports},MU5D:function(n,t,e){var r=e("R9M2");n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==r(n)?n.split(""):Object(n)}},MmMw:function(n,t,e){var r=e("EqjI");n.exports=function(n,t){if(!r(n))return n;var e,o;if(t&&"function"==typeof(e=n.toString)&&!r(o=e.call(n)))return o;if("function"==typeof(e=n.valueOf)&&!r(o=e.call(n)))return o;if(!t&&"function"==typeof(e=n.toString)&&!r(o=e.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},NpIQ:function(n,t){t.f={}.propertyIsEnumerable},ON07:function(n,t,e){var r=e("EqjI"),o=e("7KvD").document,i=r(o)&&r(o.createElement);n.exports=function(n){return i?o.createElement(n):{}}},QRG4:function(n,t,e){var r=e("UuGF"),o=Math.min;n.exports=function(n){return n>0?o(r(n),9007199254740991):0}},R4wc:function(n,t,e){var r=e("kM2E");r(r.S+r.F,"Object",{assign:e("To3L")})},R9M2:function(n,t){var e={}.toString;n.exports=function(n){return e.call(n).slice(8,-1)}},S82l:function(n,t){n.exports=function(n){try{return!!n()}catch(n){return!0}}},SfB7:function(n,t,e){n.exports=!e("+E39")&&!e("S82l")(function(){return 7!=Object.defineProperty(e("ON07")("div"),"a",{get:function(){return 7}}).a})},TcQ7:function(n,t,e){var r=e("MU5D"),o=e("52gC");n.exports=function(n){return r(o(n))}},To3L:function(n,t,e){"use strict";var r=e("lktj"),o=e("1kS7"),i=e("NpIQ"),s=e("sB3e"),u=e("MU5D"),a=Object.assign;n.exports=!a||e("S82l")(function(){var n={},t={},e=Symbol(),r="abcdefghijklmnopqrst";return n[e]=7,r.split("").forEach(function(n){t[n]=n}),7!=a({},n)[e]||Object.keys(a({},t)).join("")!=r})?function(n,t){for(var e=s(n),a=arguments.length,c=1,f=o.f,d=i.f;a>c;)for(var l,p=u(arguments[c++]),m=f?r(p).concat(f(p)):r(p),h=m.length,v=0;h>v;)d.call(p,l=m[v++])&&(e[l]=p[l]);return e}:a},UuGF:function(n,t){var e=Math.ceil,r=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?r:e)(n)}},V3tA:function(n,t,e){e("R4wc"),n.exports=e("FeBl").Object.assign},"VU/8":function(n,t){n.exports=function(n,t,e,r,o,i){var s,u=n=n||{},a=typeof n.default;"object"!==a&&"function"!==a||(s=n,u=n.default);var c="function"==typeof u?u.options:u;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),e&&(c.functional=!0),o&&(c._scopeId=o);var f;if(i?(f=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),r&&r.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=f):r&&(f=r),f){var d=c.functional,l=d?c.render:c.beforeCreate;d?(c._injectStyles=f,c.render=function(n,t){return f.call(t),l(n,t)}):c.beforeCreate=l?[].concat(l,f):[f]}return{esModule:s,exports:u,options:c}}},WjVl:function(n,t,e){var r=e("XeDs");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);e("rjj0")("11607b59",r,!1)},X8DO:function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},XeDs:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.pinned-comment[data-v-529cde84] { margin-bottom: 8px;\n}\n.fade-enter-active[data-v-529cde84], .fade-leave-active[data-v-529cde84] { -webkit-transition: opacity .5s; transition: opacity .5s\n}\n.fade-enter[data-v-529cde84] { opacity: 0\n}\n.fade-enter-to[data-v-529cde84] { opacity: 1\n}\n",""])},ax3d:function(n,t,e){var r=e("e8AB")("keys"),o=e("3Eo+");n.exports=function(n){return r[n]||(r[n]=o(n))}},bEVr:function(n,t,e){"use strict";var r=function(){var n=this.$createElement,t=this._self._c||n;return t("transition",{attrs:{name:"fade"}},[this.pinnedCommentId?t("div",{staticClass:"pinned-comment-header",style:{backgroundColor:this.backgroundColor}},[t("span",[this._v(this._s(this.i18next.t("WfPinnedComment.pinned_comment")))]),this._v(" "),t("img",{attrs:{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' id='Capa_1' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cpolygon style='fill:%23D6112E;' points='456.001,155.25 434.148,133.397 266.604,300.94 309.401,343.736 '/%3E%3Cpolygon style='fill:%23FF0F3B;' points='356.75,56 168.264,202.6 287.548,321.883 434.148,133.397 '/%3E%3Cpolygon style='fill:%23808080;' points='227.905,313.233 198.768,284.095 147.777,335.086 140.492,371.508 176.915,364.224 '/%3E%3Cpolygon style='fill:%239F9F9F;' points='147.777,335.086 0.001,482.862 0.001,512 29.138,512 176.915,364.224 '/%3E%3Cpath style='fill:%23FF0F3B;' d='M318.962,331.444l-21.853-21.853v131.12l21.853,21.853 C355.02,426.506,355.02,367.502,318.962,331.444z'/%3E%3Cpath style='fill:%23FF4D6B;' d='M297.109,309.59L180.556,193.038c-36.058-36.058-95.062-36.058-131.12,0l247.673,247.673 C333.166,404.653,333.166,345.648,297.109,309.59z'/%3E%3Cpath style='fill:%23FF0F3B;' d='M490.147,167.543H446.44l21.853,21.853c12.019,12.019,31.687,12.019,43.706,0L490.147,167.543z'/%3E%3Cpath style='fill:%23FF4D6B;' d='M490.147,167.543L322.604,0c-12.019,12.019-12.019,31.687,0,43.706L446.44,167.543 C458.46,179.563,478.128,179.563,490.147,167.543z'/%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3C/svg%3E"}})]):this._e()])};r._withStripped=!0;var o={render:r,staticRenderFns:[]};t.a=o},e8AB:function(n,t,e){var r=e("7KvD"),o="__core-js_shared__",i=r[o]||(r[o]={});n.exports=function(n){return i[n]||(i[n]={})}},evD5:function(n,t,e){var r=e("77Pl"),o=e("SfB7"),i=e("MmMw"),s=Object.defineProperty;t.f=e("+E39")?Object.defineProperty:function(n,t,e){if(r(n),t=i(t,!0),r(e),o)try{return s(n,t,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[t]=e.value),n}},fkB2:function(n,t,e){var r=e("UuGF"),o=Math.max,i=Math.min;n.exports=function(n,t){return(n=r(n))<0?o(n+t,0):i(n,t)}},hJx8:function(n,t,e){var r=e("evD5"),o=e("X8DO");n.exports=e("+E39")?function(n,t,e){return r.f(n,t,o(1,e))}:function(n,t,e){return n[t]=e,n}},kM2E:function(n,t,e){var r=e("7KvD"),o=e("FeBl"),i=e("+ZMJ"),s=e("hJx8"),u="prototype",a=function(n,t,e){var c,f,d,l=n&a.F,p=n&a.G,m=n&a.S,h=n&a.P,v=n&a.B,g=n&a.W,C=p?o:o[t]||(o[t]={}),b=C[u],x=p?r:m?r[t]:(r[t]||{})[u];p&&(e=t);for(c in e)(f=!l&&x&&void 0!==x[c])&&c in C||(d=f?x[c]:e[c],C[c]=p&&"function"!=typeof x[c]?e[c]:v&&f?i(d,r):g&&x[c]==d?function(n){var t=function(t,e,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,r)}return n.apply(this,arguments)};return t[u]=n[u],t}(d):h&&"function"==typeof d?i(Function.call,d):d,h&&((C.virtual||(C.virtual={}))[c]=d,n&a.R&&b&&!b[c]&&s(b,c,d)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,n.exports=a},lOnJ:function(n,t){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},lVK7:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("8+CR"),o=e("JpbG"),i=e("H2sZ");t.default={id:"WfPinnedComment",components:{"comments.before":[r.a,o.a],"comment.menu.top":[i.a]}}},lktj:function(n,t,e){var r=e("Ibhu"),o=e("xnc9");n.exports=Object.keys||function(n){return r(n,o)}},rjj0:function(n,t,e){function r(n){for(var t=0;t<n.length;t++){var e=n[t],r=c[e.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](e.parts[o]);for(;o<e.parts.length;o++)r.parts.push(i(e.parts[o]));r.parts.length>e.parts.length&&(r.parts.length=e.parts.length)}else{var s=[];for(o=0;o<e.parts.length;o++)s.push(i(e.parts[o]));c[e.id]={id:e.id,refs:1,parts:s}}}}function o(){var n=document.createElement("style");return n.type="text/css",f.appendChild(n),n}function i(n){var t,e,r=document.querySelector('style[data-vue-ssr-id~="'+n.id+'"]');if(r){if(p)return m;r.parentNode.removeChild(r)}if(h){var i=l++;r=d||(d=o()),t=s.bind(null,r,i,!1),e=s.bind(null,r,i,!0)}else r=o(),t=function(n,t){var e=t.css,r=t.media,o=t.sourceMap;r&&n.setAttribute("media",r);o&&(e+="\n/*# sourceURL="+o.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,r),e=function(){r.parentNode.removeChild(r)};return t(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;t(n=r)}else e()}}function s(n,t,e,r){var o=e?"":r.css;if(n.styleSheet)n.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),s=n.childNodes;s[t]&&n.removeChild(s[t]),s.length?n.insertBefore(i,s[t]):n.appendChild(i)}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a=e("tTVk"),c={},f=u&&(document.head||document.getElementsByTagName("head")[0]),d=null,l=0,p=!1,m=function(){},h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());n.exports=function(n,t,e){p=e;var o=a(n,t);return r(o),function(t){for(var e=[],i=0;i<o.length;i++){var s=o[i];(u=c[s.id]).refs--,e.push(u)}t?r(o=a(n,t)):o=[];for(i=0;i<e.length;i++){var u;if(0===(u=e[i]).refs){for(var f=0;f<u.parts.length;f++)u.parts[f]();delete c[u.id]}}}};var v=function(){var n=[];return function(t,e){return n[t]=e,n.filter(Boolean).join("\n")}}()},sB3e:function(n,t,e){var r=e("52gC");n.exports=function(n){return Object(r(n))}},tTVk:function(n,t){n.exports=function(n,t){for(var e=[],r={},o=0;o<t.length;o++){var i=t[o],s=i[0],u={id:n+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(u):e.push(r[s]={id:s,parts:[u]})}return e}},"vFc/":function(n,t,e){var r=e("TcQ7"),o=e("QRG4"),i=e("fkB2");n.exports=function(n){return function(t,e,s){var u,a=r(t),c=o(a.length),f=i(s,c);if(n&&e!=e){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((n||f in a)&&a[f]===e)return n||f||0;return!n&&-1}}},woOf:function(n,t,e){n.exports={default:e("V3tA"),__esModule:!0}},xnc9:function(n,t){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}})});