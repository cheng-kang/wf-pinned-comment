!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("WfPinnedComment",[],t):"object"==typeof exports?exports.WfPinnedComment=t():n.WfPinnedComment=t()}("undefined"!=typeof self?self:this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s="lVK7")}({"+E39":function(n,t,e){n.exports=!e("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+WN3":function(n,t,e){var r=e("2EGR");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);e("rjj0")("180b7652",r,!1)},"+ZMJ":function(n,t,e){var r=e("lOnJ");n.exports=function(n,t,e){if(r(n),void 0===t)return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,o){return n.call(t,e,r,o)}}return function(){return n.apply(t,arguments)}}},"1kS7":function(n,t){t.f=Object.getOwnPropertySymbols},"2EGR":function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.pinned-comment-header[data-v-69488c6b] { display: flex; justify-content: flex-end; padding: 4px 0 0 0; height: 22px; width: 100%; color: #9ea7b4; font-size: 14px; font-weight: 500;\n}\n.pinned-comment-header span[data-v-69488c6b] { margin-right: 8px;\n}\n.pinned-comment-header img[data-v-69488c6b] { width: 18px; height: 18px;\n}\n.fade-enter-active[data-v-69488c6b], .fade-leave-active[data-v-69488c6b] { transition: opacity .5s\n}\n.fade-enter[data-v-69488c6b] { opacity: 0\n}\n.fade-enter-to[data-v-69488c6b] { opacity: 1\n}\n",""])},"3Eo+":function(n,t){var e=0,r=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++e+r).toString(36))}},"52gC":function(n,t){n.exports=function(n){if(void 0==n)throw TypeError("Can't call method on  "+n);return n}},"5dnX":function(n,t,e){"use strict";var r=function(){var n=this.$createElement,t=this._self._c||n;return this.shouldRender?t("i-dropdown-item",{on:{"on-click":this.handleClick}},[this._v("\n  "+this._s(this.itemTitle)+"\n")]):this._e()};r._withStripped=!0;var o={render:r,staticRenderFns:[]};t.a=o},"77Pl":function(n,t,e){var r=e("EqjI");n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},"7KvD":function(n,t){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},"8+CR":function(n,t,e){"use strict";var r=e("90CO"),o=e("bEVr"),i=!1,a=function(n){i||e("+WN3")},c=e("VU/8")(r.a,o.a,!1,a,"data-v-69488c6b",null);c.options.__file="src/PinnedCommentHeader.vue",t.a=c.exports},"90CO":function(n,t,e){"use strict";var r=e("oiih");t.a={name:"pinned-comment-header",props:["t","pluginData","db","config"],data:function(){return{backgroundColor:r.a}},computed:{pinnedCommentId:function(){return this.pluginData.pinnedCommentId}},created:function(){var n=this;this.db.ref("plugins/WfPinnedComment/a/x/x/x/u/options").on("value",function(t){var e=(t.val()||{}).backgroundColor;n.backgroundColor=e?"#"+e:r.a})}}},AmZr:function(n,t,e){"use strict";var r=function(){var n=this.$createElement,t=this._self._c||n;return t("transition",{attrs:{name:"fade"}},[this.comment?t("wf-comment-card",{key:this.comment.commentId,staticClass:"pinned-comment",style:{backgroundColor:this.backgroundColor},attrs:{comment:this.comment}}):this._e()],1)};r._withStripped=!0;var o={render:r,staticRenderFns:[]};t.a=o},D2L2:function(n,t){var e={}.hasOwnProperty;n.exports=function(n,t){return e.call(n,t)}},EqjI:function(n,t){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},"FZ+f":function(n,t){function e(n,t){var e=n[1]||"",r=n[3];if(!r)return e;if(t&&"function"==typeof btoa){var o=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(r),i=r.sources.map(function(n){return"/*# sourceURL="+r.sourceRoot+n+" */"});return[e].concat(i).concat([o]).join("\n")}return[e].join("\n")}n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var r=e(t,n);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<n.length;o++){var a=n[o];"number"==typeof a[0]&&r[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),t.push(a))}},t}},FeBl:function(n,t){var e=n.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)},GiA7:function(n,t,e){"use strict";t.a={name:"pin-this-comment",props:["comment","t","pluginData","commonData","db","config"],computed:{user:function(){return this.commonData.user},pinnedCommentId:function(){return this.pluginData.pinnedCommentId},shouldRender:function(){return this.user&&this.user.isAdmin},itemTitle:function(){return this.t(this.isPinned?"unpin":"pin")},isPinned:function(){return this.comment.commentId===this.pinnedCommentId}},methods:{handleClick:function(){var n=this,t=this.t(this.isPinned?"unpin_success":"pin_success");this.db.ref("plugins/WfPinnedComment/a/x/x/x/u/"+this.config.pageURL).set(this.isPinned?null:this.comment.commentId).then(function(){n.$Message.success(t)}).catch(function(){n.$Message.error(n.t("error"))})}}}},H2sZ:function(n,t,e){"use strict";var r=e("GiA7"),o=e("5dnX"),i=e("VU/8")(r.a,o.a,!1,null,null,null);i.options.__file="src/PinThisComment.vue",t.a=i.exports},Ibhu:function(n,t,e){var r=e("D2L2"),o=e("TcQ7"),i=e("vFc/")(!1),a=e("ax3d")("IE_PROTO");n.exports=function(n,t){var e,c=o(n),s=0,u=[];for(e in c)e!=a&&r(c,e)&&u.push(e);for(;t.length>s;)r(c,e=t[s++])&&(~i(u,e)||u.push(e));return u}},JYTA:function(n,t,e){"use strict";var r=e("woOf"),o=e.n(r),i=e("oiih");t.a={name:"pinned-comment",props:["pluginData","db","config"],data:function(){return{comment:void 0,backgroundColor:i.a}},watch:{comment:function(n){var t=n?n.commentId:null;this.$set(this.pluginData,"pinnedCommentId",t)}},created:function(){var n=this;this.db.ref("plugins/WfPinnedComment/a/x/x/x/u/"+this.config.pageURL).on("value",function(t){var e=t.val();e?n.db.ref("comments/"+e).once("value").then(function(t){var r=t.val();n.comment=r?o()({},r,{commentId:e,parentCommentId:null}):null}):n.comment=null}),this.db.ref("plugins/WfPinnedComment/a/x/x/x/u/options").on("value",function(t){var e=(t.val()||{}).backgroundColor;n.backgroundColor=e?"#"+e:i.a})}}},JpbG:function(n,t,e){"use strict";var r=e("JYTA"),o=e("AmZr"),i=!1,a=function(n){i||e("WjVl")},c=e("VU/8")(r.a,o.a,!1,a,"data-v-529cde84",null);c.options.__file="src/PinnedComment.vue",t.a=c.exports},MU5D:function(n,t,e){var r=e("R9M2");n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==r(n)?n.split(""):Object(n)}},MmMw:function(n,t,e){var r=e("EqjI");n.exports=function(n,t){if(!r(n))return n;var e,o;if(t&&"function"==typeof(e=n.toString)&&!r(o=e.call(n)))return o;if("function"==typeof(e=n.valueOf)&&!r(o=e.call(n)))return o;if(!t&&"function"==typeof(e=n.toString)&&!r(o=e.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},NpIQ:function(n,t){t.f={}.propertyIsEnumerable},ON07:function(n,t,e){var r=e("EqjI"),o=e("7KvD").document,i=r(o)&&r(o.createElement);n.exports=function(n){return i?o.createElement(n):{}}},QRG4:function(n,t,e){var r=e("UuGF"),o=Math.min;n.exports=function(n){return n>0?o(r(n),9007199254740991):0}},R4wc:function(n,t,e){var r=e("kM2E");r(r.S+r.F,"Object",{assign:e("To3L")})},R9M2:function(n,t){var e={}.toString;n.exports=function(n){return e.call(n).slice(8,-1)}},S82l:function(n,t){n.exports=function(n){try{return!!n()}catch(n){return!0}}},SfB7:function(n,t,e){n.exports=!e("+E39")&&!e("S82l")(function(){return 7!=Object.defineProperty(e("ON07")("div"),"a",{get:function(){return 7}}).a})},TcQ7:function(n,t,e){var r=e("MU5D"),o=e("52gC");n.exports=function(n){return r(o(n))}},To3L:function(n,t,e){"use strict";var r=e("lktj"),o=e("1kS7"),i=e("NpIQ"),a=e("sB3e"),c=e("MU5D"),s=Object.assign;n.exports=!s||e("S82l")(function(){var n={},t={},e=Symbol(),r="abcdefghijklmnopqrst";return n[e]=7,r.split("").forEach(function(n){t[n]=n}),7!=s({},n)[e]||Object.keys(s({},t)).join("")!=r})?function(n,t){for(var e=a(n),s=arguments.length,u=1,f=o.f,p=i.f;s>u;)for(var l,d=c(arguments[u++]),m=f?r(d).concat(f(d)):r(d),v=m.length,h=0;v>h;)p.call(d,l=m[h++])&&(e[l]=d[l]);return e}:s},UuGF:function(n,t){var e=Math.ceil,r=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?r:e)(n)}},V3tA:function(n,t,e){e("R4wc"),n.exports=e("FeBl").Object.assign},"VU/8":function(n,t){n.exports=function(n,t,e,r,o,i){var a,c=n=n||{},s=typeof n.default;"object"!==s&&"function"!==s||(a=n,c=n.default);var u="function"==typeof c?c.options:c;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),e&&(u.functional=!0),o&&(u._scopeId=o);var f;if(i?(f=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),r&&r.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},u._ssrRegister=f):r&&(f=r),f){var p=u.functional,l=p?u.render:u.beforeCreate;p?(u._injectStyles=f,u.render=function(n,t){return f.call(t),l(n,t)}):u.beforeCreate=l?[].concat(l,f):[f]}return{esModule:a,exports:c,options:u}}},WjVl:function(n,t,e){var r=e("XeDs");"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);e("rjj0")("11607b59",r,!1)},X8DO:function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},XeDs:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.pinned-comment[data-v-529cde84] { margin-bottom: 8px;\n}\n.fade-enter-active[data-v-529cde84], .fade-leave-active[data-v-529cde84] { transition: opacity .5s\n}\n.fade-enter[data-v-529cde84] { opacity: 0\n}\n.fade-enter-to[data-v-529cde84] { opacity: 1\n}\n",""])},ax3d:function(n,t,e){var r=e("e8AB")("keys"),o=e("3Eo+");n.exports=function(n){return r[n]||(r[n]=o(n))}},bEVr:function(n,t,e){"use strict";var r=function(){var n=this.$createElement,t=this._self._c||n;return t("transition",{attrs:{name:"fade"}},[this.pinnedCommentId?t("div",{staticClass:"pinned-comment-header",style:{backgroundColor:this.backgroundColor}},[t("span",[this._v(this._s(this.t("pinned_comment")))]),this._v(" "),t("img",{attrs:{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' id='Capa_1' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cpolygon style='fill:%23D6112E;' points='456.001,155.25 434.148,133.397 266.604,300.94 309.401,343.736 '/%3E%3Cpolygon style='fill:%23FF0F3B;' points='356.75,56 168.264,202.6 287.548,321.883 434.148,133.397 '/%3E%3Cpolygon style='fill:%23808080;' points='227.905,313.233 198.768,284.095 147.777,335.086 140.492,371.508 176.915,364.224 '/%3E%3Cpolygon style='fill:%239F9F9F;' points='147.777,335.086 0.001,482.862 0.001,512 29.138,512 176.915,364.224 '/%3E%3Cpath style='fill:%23FF0F3B;' d='M318.962,331.444l-21.853-21.853v131.12l21.853,21.853 C355.02,426.506,355.02,367.502,318.962,331.444z'/%3E%3Cpath style='fill:%23FF4D6B;' d='M297.109,309.59L180.556,193.038c-36.058-36.058-95.062-36.058-131.12,0l247.673,247.673 C333.166,404.653,333.166,345.648,297.109,309.59z'/%3E%3Cpath style='fill:%23FF0F3B;' d='M490.147,167.543H446.44l21.853,21.853c12.019,12.019,31.687,12.019,43.706,0L490.147,167.543z'/%3E%3Cpath style='fill:%23FF4D6B;' d='M490.147,167.543L322.604,0c-12.019,12.019-12.019,31.687,0,43.706L446.44,167.543 C458.46,179.563,478.128,179.563,490.147,167.543z'/%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3Cg%3E%3C/g%3E%3C/svg%3E"}})]):this._e()])};r._withStripped=!0;var o={render:r,staticRenderFns:[]};t.a=o},e8AB:function(n,t,e){var r=e("7KvD"),o="__core-js_shared__",i=r[o]||(r[o]={});n.exports=function(n){return i[n]||(i[n]={})}},evD5:function(n,t,e){var r=e("77Pl"),o=e("SfB7"),i=e("MmMw"),a=Object.defineProperty;t.f=e("+E39")?Object.defineProperty:function(n,t,e){if(r(n),t=i(t,!0),r(e),o)try{return a(n,t,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[t]=e.value),n}},fkB2:function(n,t,e){var r=e("UuGF"),o=Math.max,i=Math.min;n.exports=function(n,t){return(n=r(n))<0?o(n+t,0):i(n,t)}},hJx8:function(n,t,e){var r=e("evD5"),o=e("X8DO");n.exports=e("+E39")?function(n,t,e){return r.f(n,t,o(1,e))}:function(n,t,e){return n[t]=e,n}},kM2E:function(n,t,e){var r=e("7KvD"),o=e("FeBl"),i=e("+ZMJ"),a=e("hJx8"),c="prototype",s=function(n,t,e){var u,f,p,l=n&s.F,d=n&s.G,m=n&s.S,v=n&s.P,h=n&s.B,g=n&s.W,C=d?o:o[t]||(o[t]={}),x=C[c],y=d?r:m?r[t]:(r[t]||{})[c];d&&(e=t);for(u in e)(f=!l&&y&&void 0!==y[u])&&u in C||(p=f?y[u]:e[u],C[u]=d&&"function"!=typeof y[u]?e[u]:h&&f?i(p,r):g&&y[u]==p?function(n){var t=function(t,e,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,r)}return n.apply(this,arguments)};return t[c]=n[c],t}(p):v&&"function"==typeof p?i(Function.call,p):p,v&&((C.virtual||(C.virtual={}))[u]=p,n&s.R&&x&&!x[u]&&a(x,u,p)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,n.exports=s},lOnJ:function(n,t){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},lVK7:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("8+CR"),o=e("JpbG"),i=e("H2sZ");t.default={components:{"comments.before":[r.a,o.a],"comment.menu.top":[i.a]},translation:{fallback:"en",en:{error:"Something went wrong.",pin:"Pin",pinned_comment:"Pinned Comment",pin_success:"Pinned!",unpin:"Unpin",unpin_success:"Unpinned!"},"zh-CN":{error:"置顶操作出错了。",pin:"置顶",pinned_comment:"置顶评论",pin_success:"置顶成功！",unpin:"取消置顶",unpin_success:"取消置顶成功！"}}}},lktj:function(n,t,e){var r=e("Ibhu"),o=e("xnc9");n.exports=Object.keys||function(n){return r(n,o)}},oiih:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r="rgba(0, 0, 0, 0.03)"},rjj0:function(n,t,e){function r(n){for(var t=0;t<n.length;t++){var e=n[t],r=u[e.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](e.parts[o]);for(;o<e.parts.length;o++)r.parts.push(i(e.parts[o]));r.parts.length>e.parts.length&&(r.parts.length=e.parts.length)}else{var a=[];for(o=0;o<e.parts.length;o++)a.push(i(e.parts[o]));u[e.id]={id:e.id,refs:1,parts:a}}}}function o(){var n=document.createElement("style");return n.type="text/css",f.appendChild(n),n}function i(n){var t,e,r=document.querySelector('style[data-vue-ssr-id~="'+n.id+'"]');if(r){if(d)return m;r.parentNode.removeChild(r)}if(v){var i=l++;r=p||(p=o()),t=a.bind(null,r,i,!1),e=a.bind(null,r,i,!0)}else r=o(),t=function(n,t){var e=t.css,r=t.media,o=t.sourceMap;r&&n.setAttribute("media",r);o&&(e+="\n/*# sourceURL="+o.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,r),e=function(){r.parentNode.removeChild(r)};return t(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;t(n=r)}else e()}}function a(n,t,e,r){var o=e?"":r.css;if(n.styleSheet)n.styleSheet.cssText=h(t,o);else{var i=document.createTextNode(o),a=n.childNodes;a[t]&&n.removeChild(a[t]),a.length?n.insertBefore(i,a[t]):n.appendChild(i)}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=e("tTVk"),u={},f=c&&(document.head||document.getElementsByTagName("head")[0]),p=null,l=0,d=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());n.exports=function(n,t,e){d=e;var o=s(n,t);return r(o),function(t){for(var e=[],i=0;i<o.length;i++){var a=o[i];(c=u[a.id]).refs--,e.push(c)}t?r(o=s(n,t)):o=[];for(i=0;i<e.length;i++){var c;if(0===(c=e[i]).refs){for(var f=0;f<c.parts.length;f++)c.parts[f]();delete u[c.id]}}}};var h=function(){var n=[];return function(t,e){return n[t]=e,n.filter(Boolean).join("\n")}}()},sB3e:function(n,t,e){var r=e("52gC");n.exports=function(n){return Object(r(n))}},tTVk:function(n,t){n.exports=function(n,t){for(var e=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],c={id:n+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(c):e.push(r[a]={id:a,parts:[c]})}return e}},"vFc/":function(n,t,e){var r=e("TcQ7"),o=e("QRG4"),i=e("fkB2");n.exports=function(n){return function(t,e,a){var c,s=r(t),u=o(s.length),f=i(a,u);if(n&&e!=e){for(;u>f;)if((c=s[f++])!=c)return!0}else for(;u>f;f++)if((n||f in s)&&s[f]===e)return n||f||0;return!n&&-1}}},woOf:function(n,t,e){n.exports={default:e("V3tA"),__esModule:!0}},xnc9:function(n,t){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}})});